# 主数据副本

副本，是一种主数据加载的来源方式。主数据副本包括副本建模、副本对照和副本查看，仅对主数据进行副本操作，不涉及物料主数据。

主要流程：建立副本模型，然后建立副本表和主数据实体的对照关系，最后转换数据。

## 副本建模

单击【主数据副本】→【副本建模】，进入副本建模页面，在此页面进行副本模型的新增、修改和删除等操作。副本表归属于远程系统注册的业务系统。

![](/articles/cloudmdm/3-/images/image77.png)

<p align="center">图：副本建模</p> 

* 新增

单击副本表分类树的根节点“业务系统”，单击〖新增〗，弹出一个窗口，填写内容（*表示必填项）后，单击〖确定〗。

![](/articles/cloudmdm/3-/images/image78.png)

<p align="center">图：新增副本</p> 

➢ 字段属性，包括：

1)	字段编码：唯一的英文编码标示，必输项；

2)	字段名称：中文属性名称，必输项；

3)	类型：副本表数据类型。包括：字符、整型、布尔、浮点型、日期、日期时间；

4)	字段长度：副本表数据类型的数据宽度，大于1；

5)	备注：对该字段的描述。

➢ 副本表字段，默认5个字段：

1)	MDMCODE：主数据编码，唯一标识；

2)	业务数据ID：针对于业务系统唯一表示，必输项；

3)	业务系统编码：业务系统的编码，必输项；

4)	数据状态：“1”，该数据为新数据；“2”，该数据已发起；

5)	是否纳入：是否写入主数据，0否，1是。

通过增行（+号），按照主数据实体字段，新增副本表字段，建立二者的映射关系。

* 修改

选择副本表，单击〖修改〗，在弹出窗口中填写内容，然后点击〖确定〗。

![](/articles/cloudmdm/3-/images/image79.png)

<p align="center">图：修改副本</p> 

* 删除

选择副本表，单击〖删除〗，弹出确认提示。

## 副本对照

单击【主数据副本】→【副本对照】，进入副本对照页面，在此页面建立副本表和主数据实体的对照关系。

![](/articles/cloudmdm/3-/images/image80.png)

<p align="center">图：副本对照</p> 


* 新增

配置副本表对应主数据实体。选择左侧主数据，单击〖新增〗按钮，在弹出窗口中填写内容，然后点击〖确定〗。

➢ 基本信息：编码、名称、业务系统、对照类型（接口、对照）、接口。

对照，配置副本表与主数据实体，可实现简单对照关系。

接口，配置实现类路径，通过接口代码，实现复杂对照关系。

➢ 副本表与实体：副本表、主数据实体、主子类型。

![](/articles/cloudmdm/3-/images/image81.png)

<p align="center">图：新增</p> 

* 修改

选择某个对照关系，单击〖修改〗按钮，在弹出窗口中填写内容，然后点击〖确定〗。

![](/articles/cloudmdm/3-/images/image82.png)

<p align="center">图：修改</p> 


 
* 删除

选择某个对照关系，单击〖删除〗按钮，弹出确认提示。

## 副本查看

副本查看，可查看副本表数据，并可以依据副本对照关系，手动转换为对应主数据。

单击【主数据副本】→【副本查看】，进入副本查看页面，页面左边是副本表分类树，右边是副本表数据列表。

![](/articles/cloudmdm/3-/images/image83.png)

<p align="center">图：副本查看</p> 


* 过滤

选择副本，单击〖过滤〗，在弹出窗口中选择查询条件，然后点击〖确定〗。

![](/articles/cloudmdm/3-/images/image84.png)

<p align="center">图：过滤</p> 

* 下载

单击〖下载〗，系统会自动下载当前内容的Excel文件。

* 数据转化

首先需要在【主数据权限】→【主数据权限】设置主数据的操作权限，勾选“可读”和“可写”。

选择副本表，然后选择副本对照，选择一条数据，单击〖数据转化〗，弹出如下窗口：

![](/articles/cloudmdm/3-/images/image85.png)

<p align="center">图：数据转化</p> 


单击〖数据转换〗，“主数据”部分自动出现数据信息，单击〖保存主数据〗进行保存，完成数据转换。

【副本查看】节点会显示转换的数据；或者在【主数据建模】→【主数据维护】节点看到转换的数据。
